<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpeechMagic - Text-to-Speech Generator</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Landing Page (shown when not authenticated) -->
    <div id="landing-page" class="page">
        <header class="landing-header">
            <div class="container">
                <div class="nav">
                    <h1 class="logo">üéµ SpeechMagic</h1>
                    <button id="signin-btn" class="btn btn-secondary">Sign In</button>
                </div>
            </div>
        </header>

        <main class="landing-main">
            <div class="container">
                <div class="hero">
                    <h1 class="hero-title">‚ú® Turn Text into<br>Beautiful AI Speech</h1>
                    <p class="hero-subtitle">Paste text, get professional audio in 30 seconds</p>
                    <button id="signup-btn" class="btn btn-primary btn-large">Try it for FREE</button>
                </div>

                <div class="demo-section">
                    <div class="demo-card">
                        <h3>Quick Demo</h3>
                        <p class="demo-text">"Welcome to the future of text-to-speech!"</p>
                        <div class="audio-controls">
                            <audio controls>
                                <source src="/audio/demo.mp3" type="audio/mpeg">
                                Your browser does not support the audio element.
                            </audio>
                            <a href="/audio/demo.mp3" download class="btn btn-secondary btn-small">Download Sample</a>
                        </div>
                    </div>
                </div>

                <div class="features">
                    <div class="feature">
                        <div class="feature-icon">üìù</div>
                        <h3>Paste any text</h3>
                        <p>Up to 4,000 characters</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üé≠</div>
                        <h3>AI voices</h3>
                        <p>Professional quality</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üì±</div>
                        <h3>Instant download</h3>
                        <p>High-quality MP3</p>
                    </div>
                </div>

                <div class="cta-section">
                    <button id="get-started-btn" class="btn btn-primary btn-large">Get Started</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Main App (shown when authenticated) -->
    <div id="main-app" class="page" style="display: none;">
        <header class="app-header">
            <div class="container">
                <div class="nav">
                    <h1 class="logo">üéµ SpeechMagic</h1>
                    <div class="user-menu">
                        <span id="user-email" class="user-email"></span>
                        <button id="logout-btn" class="btn btn-secondary btn-small">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <main class="app-main">
            <div class="container">
                <div class="app-hero">
                    <h1>üéôÔ∏è Text-to-Speech Generator</h1>
                    <p>Transform your words into beautiful, natural speech</p>
                </div>

                <div class="tts-interface">
                    <div class="text-input-section">
                        <textarea 
                            id="text-input" 
                            placeholder="Type or paste your text here...

Welcome to our amazing text-to-speech service! This technology can transform any written content into natural-sounding speech using advanced AI."
                            rows="10"
                        ></textarea>
                        <div class="input-footer">
                            <span id="char-counter" class="char-counter">0 characters</span>
                        </div>
                    </div>

                    <div class="generate-section">
                        <button id="generate-btn" class="btn btn-primary btn-large">
                            ‚ú® Generate Audio
                        </button>
                        <p class="voice-info">üé≠ Voice: Nova (Professional Female)</p>
                    </div>

                    <!-- Loading State -->
                    <div id="loading-section" class="loading-section" style="display: none;">
                        <div class="loading-content">
                            <div class="loading-spinner">‚è≥</div>
                            <h3>Generating Audio...</h3>
                            <div class="progress-bar">
                                <div id="progress-fill" class="progress-fill"></div>
                            </div>
                            <p class="loading-text">This usually takes 10-15 seconds</p>
                            <button id="cancel-btn" class="btn btn-secondary">üõë Cancel</button>
                        </div>
                    </div>

                    <!-- Success State -->
                    <div id="success-section" class="success-section" style="display: none;">
                        <div class="success-content">
                            <div class="success-icon">‚úÖ</div>
                            <h3>Success! Your audio is ready</h3>
                            <div class="audio-player">
                                <audio id="generated-audio" controls>
                                    Your browser does not support the audio element.
                                </audio>
                            </div>
                            <div class="audio-actions">
                                <button id="play-btn" class="btn btn-secondary">‚ñ∂ Play</button>
                                <button id="download-btn" class="btn btn-primary">üì• Download MP3</button>
                            </div>
                            <button id="generate-new-btn" class="btn btn-secondary btn-large">‚ú® Generate New</button>
                        </div>
                    </div>
                </div>

                <!-- Recent Generations -->
                <div class="history-section">
                    <h2>‚îÄ‚îÄ Recent Generations ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</h2>
                    <div id="history-list" class="history-list">
                        <!-- History items will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Authentication Modal -->
    <div id="auth-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="auth-title">Join SpeechMagic</h2>
                <button id="close-modal" class="close-btn">‚úï</button>
            </div>
            <div class="modal-body">
                <p id="auth-subtitle">Start creating amazing audio today</p>
                
                <form id="auth-form">
                    <div class="form-group">
                        <label for="email">üìß Email</label>
                        <input type="email" id="email" name="email" required placeholder="your.email@example.com">
                    </div>
                    <div class="form-group">
                        <label for="password">üîí Password</label>
                        <input type="password" id="password" name="password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" minlength="6">
                    </div>
                    <button type="submit" id="auth-submit" class="btn btn-primary btn-large">Create Account</button>
                </form>

                <p class="auth-switch">
                    <span id="auth-switch-text">Already have an account?</span>
                    <button id="auth-toggle" class="btn-link">Sign in</button>
                </p>

                <div id="auth-error" class="error-message" style="display: none;"></div>
                <div id="auth-loading" class="loading-message" style="display: none;">
                    Creating your account...
                </div>
            </div>
        </div>
    </div>

    <!-- Error Toast -->
    <div id="error-toast" class="toast error-toast" style="display: none;">
        <div class="toast-content">
            <span class="toast-icon">‚ö†Ô∏è</span>
            <span id="error-message" class="toast-message"></span>
            <button id="close-error" class="toast-close">‚úï</button>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="success-toast" class="toast success-toast" style="display: none;">
        <div class="toast-content">
            <span class="toast-icon">‚úÖ</span>
            <span id="success-message" class="toast-message"></span>
            <button id="close-success" class="toast-close">‚úï</button>
        </div>
    </div>

    <!-- Include Supabase client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Include main application script -->
    <script src="/js/app.js"></script>
</body>
</html>
